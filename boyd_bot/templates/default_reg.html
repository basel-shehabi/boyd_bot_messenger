{% extends 'base.html' %}

{% block body_block %}
    <div class="signup-section">
    {% if success %}
    <div class="alert-success">{{ config.MSG.SUCCESS_MSG }}</div>
    {% else %}
    {% if message %}
    <div class="alert-danger">{{message}}</div>
    {% endif %}
    <form action="{{ url_for('.new_user_registration', reg_id=form.reg_id.data) }}" method="post" validate>
        {{ form.hidden_tag() }}
        {{ form.uni_id(placeholder=form.uni_id.label.text, class_="form-control") }}
        {{ form.uni_pw(placeholder=form.uni_pw.label.text, class_="form-control") }} <br>
        {{ form.submit(value=form.submit.label.text, class_="button-control") }}
        {% if form.remember.data %}
            <script>
                function showHideSubscribe(){
                    var checked = document.getElementById("remember").checked;
                    if (checked){
                        document.getElementById("subscribe").disabled = false;
                    }
                    else{
                        document.getElementById("subscribe").disabled = true;
                        document.getElementById("subscribe").checked = false;
                    }
                }
                showHideSubscribe()
            </script>
            {% if config.FEATURES.ONE_TIME_USE %}
                <br>
                {{ form.remember(onchange="showHideSubscribe()") }} {{ form.remember.label }}
            {% endif %}
            {% if (config.FEATURES.SCHEDULER.SERVER or config.FEATURES.SCHEDULER.APP) %}
                <br>
                {{ form.subscribe }} {{ form.subscribe.label }}
            {% endif %}
        {% endif %}
    </form>
    {% endif %}
    </div>
{% endblock %}