# Boyd Bot (Messenger)
[![GitHub deployments](https://img.shields.io/github/deployments/ineshbose/boyd_bot_messenger/boydbot?style=flat-square)](https://github.com/ineshbose/boyd_bot_messenger/deployments)
[![Codacy grade](https://img.shields.io/codacy/grade/a0e3d46567f54d5790b43445759eb749?style=flat-square)](https://app.codacy.com/manual/ineshbose/boyd_bot_messenger)
[![Read the Docs](https://img.shields.io/readthedocs/boyd-bot-messenger?style=flat-square)](https://boyd-bot-messenger.readthedocs.io/en/latest/)
[![License](https://img.shields.io/github/license/ineshbose/boyd_bot_messenger?style=flat-square)](LICENSE)
[![GitHub tag (latest by date)](https://img.shields.io/github/v/tag/ineshbose/boyd_bot_messenger?label=version&style=flat-square)](https://github.com/ineshbose/boyd_bot_messenger/commits)
[![Facebook](https://img.shields.io/badge/Facebook--informational?style=flat-square&logo=facebook)](https://www.facebook.com/uofgbot)
[![Messenger](https://img.shields.io/badge/Messenger--informational?style=flat-square&logo=messenger)](https://m.me/uofgbot)
[![Behance](https://img.shields.io/badge/Behance--informational?style=flat-square&logo=behance)](https://www.behance.net/gallery/93421281/Glasgow-University-Timetable-Bot)

This repository is for the Flask version of the Boyd Bot - a chatbot helping university students with their timetable. <br />
**The documentation was separated to declutter the source code.**

## Setup

### Cloning
The first step is to clone the repository in your preferred directory using
```sh
$ git clone https://github.com/ineshbose/boyd_bot_messenger
$ cd boyd_bot_messenger
```
This requires [Git](https://git-scm.com/) installed; you can also download a [ZIP](https://github.com/ineshbose/boyd_bot_messenger/archive/master.zip) instead.

### Packages
All requirements have been listed in `requirements.txt`, they can be installed in your preferred environment using
```sh
$ pip install -r requirements.txt
```

### Environment Variables
Access tokens, keys, etc. have been hidden from the repository for obvious reasons. These are used as environment variables.
```python
import os

xyz = os.environ.get("XYZ_KEY")
```
You **must** replace these with your own. You can either just replace `os.environ.get()` with the value (**this is discouraged**), or use
```sh
$ set XYZ_KEY="random_key_value"
```


## Using For Your University
It's lovely to know that you're considering to use this for your university. This project aims to act a base for many other chatbots. You can also [use this repository as a template](https://github.com/ineshbose/boyd_bot_messenger/generate). A good idea is to start development with the [terminal / CLI version](https://github.com/ineshbose/boyd_bot_terminal). The following are considerations / instructions that you should know about if you aren't aware:

### Services
This version uses some external services that should easily be replaceable.

* [Facebook Messenger](https://www.facebook.com/messenger): The idea for this project is to present the timetable without having to install another application. A large number of university students use Facebook and its messaging service - Messenger. Users are identified using their unique IDs generated by Facebook specific to the app.
* [Dialogflow](https://dialogflow.com/): also known as API AI. This enables webhook, integration with Facebook Messenger (and also other messaging services if needed), intents and small talk.
* [mongoDB](https://www.mongodb.com/): This is to store user details to acquire their timetable while being fast and convenient.

### Instructions
The code is documented using _docstrings_; make sure you go through it. Since this repository acts like a template, there is not much to change. Much of it is mentioned, for example
```python
tmzn = pytz.timezone('Europe/London')   # Timezone
cal_url = "link/to/timetable.ics"       # University ICS link
```
 
Templates should also be tailored to your need. Go through the files in [templates](https://github.com/ineshbose/boyd_bot_messenger/blob/master/templates) and [static](https://github.com/ineshbose/boyd_bot_messenger/blob/master/static).

### Deployment
Be sure to do your research on where and how to deploy your code! Make sure that access tokens, keys, etc. are changed, and, along with the code & database, are **secure**.

## License

### MIT License

Copyright (c) 2020, Inesh Bose

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.